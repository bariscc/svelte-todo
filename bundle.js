var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function r(t){return null==t?"":t}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function v(t){g=t}const b=[],k=[],w=[],x=[],y=Promise.resolve();let T=!1;function _(){T||(T=!0,y.then(E))}function C(t){w.push(t)}function E(){const t=new Set;do{for(;b.length;){const t=b.shift();v(t),A(t.$$)}for(;k.length;)k.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];t.has(n)||(n(),t.add(n))}w.length=0}while(b.length);for(;x.length;)x.pop()();T=!1}function A(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(C))}const S=new Set;let N;function O(t,e){t&&t.i&&(S.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(S.has(t))return;S.add(t),N.c.push(()=>{S.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function D(t,n,s){const{fragment:l,on_mount:r,on_destroy:i,after_update:a}=t.$$;l.m(n,s),C(()=>{const n=r.map(e).filter(c);i?i.push(...n):o(n),t.$$.on_mount=[]}),a.forEach(C)}function L(t,e){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function q(e,c,s,l,r,i){const a=g;v(e);const u=c.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var p;d.ctx=s?s(e,u,(t,o)=>{d.ctx&&r(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),f&&function(t,e){t.$$.dirty||(b.push(t),_(),t.$$.dirty=n()),t.$$.dirty[e]=!0}(e,t))}):u,d.update(),f=!0,o(d.before_update),d.fragment=l(d.ctx),c.target&&(c.hydrate?d.fragment.l((p=c.target,Array.from(p.childNodes))):d.fragment.c(),c.intro&&O(e.$$.fragment),D(e,c.target,c.anchor),E()),v(a)}class B{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const I=[];function J(t,e){return{subscribe:M(t,e).subscribe}}function M(e,n=t){let o;const c=[];function l(t){if(s(e,t)&&(e=t,o)){const t=!I.length;for(let t=0;t<c.length;t+=1){const n=c[t];n[1](),I.push(n,e)}if(t){for(let t=0;t<I.length;t+=2)I[t][0](I[t+1]);I.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,r=t){const i=[s,r];return c.push(i),1===c.length&&(o=n(l)||t),s(e),()=>{const t=c.indexOf(i);-1!==t&&c.splice(t,1),0===c.length&&(o(),o=null)}}}}function P(e,n,s){const l=!Array.isArray(e),r=l?[e]:e,i=n.length<2;return J(s,e=>{let s=!1;const a=[];let u=0,d=t;const f=()=>{if(u)return;d();const o=n(l?a[0]:a,e);i?e(o):d=c(o)?o:t},p=r.map((t,e)=>t.subscribe(t=>{a[e]=t,u&=~(1<<e),s&&f()},()=>{u|=1<<e}));return s=!0,f(),function(){o(p),d()}})}const W=M(JSON.parse(window.localStorage.getItem("todos"))||[]),z=P(W,t=>t.filter(t=>!1===t.done)),F=P(W,t=>t.filter(t=>!0===t.done));W.subscribe(t=>{window.localStorage.setItem("todos",JSON.stringify(t))});const G=J(window.location.hash,t=>{window.addEventListener("hashchange",()=>{t(window.location.hash)},!1)}),H=P([W,z,F,G],([t,e,n,o])=>{switch(o){case"#active":return e;case"#completed":return n;default:return t}});function K(e){var n,o,c,s,l;return{c(){n=d("header"),(o=d("h1")).textContent="todos",c=p(),s=d("input"),m(o,"class","svelte-15s1l3w"),m(s,"autocomplete","off"),m(s,"placeholder","What needs to be done?"),m(s,"class","new-todo svelte-15s1l3w"),m(n,"class","header"),l=h(s,"keydown",e.addTodo)},m(t,e){a(t,n,e),i(n,o),i(n,c),i(n,s)},p:t,i:t,o:t,d(t){t&&u(n),l()}}}function Q(t){return{addTodo:t=>{13===t.keyCode&&t.target.value.length&&(W.update(e=>[{id:(new Date).getTime(),text:t.target.value,done:!1},...e]),t.target.value="")}}}class R extends B{constructor(t){super(),q(this,t,Q,K,s,[])}}function U(t){var e,n,c,s,l,r,g,v,b,k,w=t.item.text+"";return{c(){e=d("div"),n=d("input"),l=p(),r=d("label"),g=f(w),v=p(),b=d("button"),m(n,"type","checkbox"),m(n,"class","toggle svelte-1w6vp0e"),m(n,"id",c=`todo-${t.item.id}`),n.checked=s=t.item.done,m(r,"class","svelte-1w6vp0e"),m(b,"class","destroy svelte-1w6vp0e"),m(e,"class","view"),k=[h(n,"click",t.checkTodo),h(b,"click",t.deleteTodo)]},m(t,o){a(t,e,o),i(e,n),i(e,l),i(e,r),i(r,g),i(e,v),i(e,b)},p(t,e){t.item&&c!==(c=`todo-${e.item.id}`)&&m(n,"id",c),t.item&&s!==(s=e.item.done)&&(n.checked=s),t.item&&w!==(w=e.item.text+"")&&$(g,w)},d(t){t&&u(e),o(k)}}}function V(t){var e,n,c;return{c(){m(e=d("input"),"type","text"),m(e,"class","edit svelte-1w6vp0e"),e.value=n=t.item.text,c=[h(e,"blur",t.update),h(e,"keydown",t.onEnter)]},m(n,o){a(n,e,o),t.input_1_binding(e)},p(t,o){t.item&&n!==(n=o.item.text)&&(e.value=n)},d(n){n&&u(e),t.input_1_binding(null),o(c)}}}function X(e){var n,o,c;function s(t,e){return e.isEditing?V:U}var l=s(0,e),i=l(e);return{c(){n=d("li"),i.c(),m(n,"class",o=r(e.item.done?"todo completed":"todo")+" svelte-1w6vp0e"),c=h(n,"dblclick",e.onDblClick)},m(t,e){a(t,n,e),i.m(n,null)},p(t,e){l===(l=s(0,e))&&i?i.p(t,e):(i.d(1),(i=l(e))&&(i.c(),i.m(n,null))),t.item&&o!==(o=r(e.item.done?"todo completed":"todo")+" svelte-1w6vp0e")&&m(n,"class",o)},i:t,o:t,d(t){t&&u(n),i.d(),c()}}}function Y(t,e,n){let o,{item:c}=e;let s=!1;const l=t=>{t.target.value.length&&W.update(e=>e.map(e=>(e.id===c.id&&(e.text=t.target.value),e))),n("isEditing",s=!1)};return t.$set=(t=>{"item"in t&&n("item",c=t.item)}),{item:c,input:o,deleteTodo:t=>{W.update(t=>t.filter(t=>t.id!==c.id))},checkTodo:t=>{W.update(t=>t.map(t=>(t.id===c.id&&(t.done=!t.done),t)))},isEditing:s,onEnter:t=>{13==t.keyCode&&l(t)},update:l,onDblClick:async t=>{n("isEditing",s=!0),await(_(),y),o.focus()},input_1_binding:function(t){k[t?"unshift":"push"](()=>{n("input",o=t)})}}}class Z extends B{constructor(t){super(),q(this,t,Y,X,s,["item"])}}function tt(t,e,n){const o=Object.create(t);return o.item=e[n],o}function et(t){var e,n=new Z({props:{item:t.item}});return{c(){n.$$.fragment.c()},m(t,o){D(n,t,o),e=!0},p(t,e){var o={};t.$list&&(o.item=e.item),n.$set(o)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function nt(t){for(var e,n,c=t.$list,s=[],l=0;l<c.length;l+=1)s[l]=et(tt(t,c,l));const r=t=>j(s[t],1,1,()=>{s[t]=null});return{c(){e=d("ul");for(var t=0;t<s.length;t+=1)s[t].c();m(e,"class","todo-list svelte-16kgjee")},m(t,o){a(t,e,o);for(var c=0;c<s.length;c+=1)s[c].m(e,null);n=!0},p(t,n){if(t.$list){c=n.$list;for(var l=0;l<c.length;l+=1){const o=tt(n,c,l);s[l]?(s[l].p(t,o),O(s[l],1)):(s[l]=et(o),s[l].c(),O(s[l],1),s[l].m(e,null))}for(N={r:0,c:[],p:N},l=c.length;l<s.length;l+=1)r(l);N.r||o(N.c),N=N.p}},i(t){if(!n){for(var e=0;e<c.length;e+=1)O(s[e]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)j(s[t]);n=!1},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(s,t)}}}function ot(t,e,n){let o;return l(t,H,t=>{n("$list",o=t)}),{$list:o}}class ct extends B{constructor(t){super(),q(this,t,ot,nt,s,[])}}function st(t){var e,n,o,c,s,l,r,f,$=new ct({});return{c(){e=d("section"),n=d("input"),c=p(),(s=d("label")).textContent="Mark all as complete",l=p(),$.$$.fragment.c(),m(n,"id","toggle-all"),m(n,"type","checkbox"),m(n,"class","toggle-all svelte-1sxiawi"),n.checked=o=t.$activeTodos.length,m(s,"for","toggle-all"),m(s,"class","svelte-1sxiawi"),m(e,"class","main svelte-1sxiawi"),f=h(n,"click",t.markAll)},m(t,o){a(t,e,o),i(e,n),i(e,c),i(e,s),i(e,l),D($,e,null),r=!0},p(t,e){r&&!t.$activeTodos||o===(o=e.$activeTodos.length)||(n.checked=o)},i(t){r||(O($.$$.fragment,t),r=!0)},o(t){j($.$$.fragment,t),r=!1},d(t){t&&u(e),L($),f()}}}function lt(t,e,n){let o;l(t,z,t=>{n("$activeTodos",o=t)});return{markAll:()=>{const t=!!o.length;W.update(e=>e.map(e=>(e.done=t,e)))},$activeTodos:o}}class rt extends B{constructor(t){super(),q(this,t,lt,st,s,[])}}function it(t){var e,n,o,c,s,l,h,g,v,b,k,w,x,y,T,_,C,E,A,S,N,O,j=t.$activeTodos.length+"",D=t.$completedTodos.length&&at(t);return{c(){e=d("footer"),n=d("span"),o=d("strong"),c=f(j),s=f("\n      items left"),l=p(),h=d("ul"),g=d("li"),v=d("a"),b=f("All"),w=p(),x=d("li"),y=d("a"),T=f("Active"),C=p(),E=d("li"),A=d("a"),S=f("Completed"),O=p(),D&&D.c(),m(n,"class","todo-count svelte-189opk0"),m(v,"href","#all"),m(v,"class",k=r((""===t.$hash||"#all"===t.$hash)&&"selected")+" svelte-189opk0"),m(g,"class","svelte-189opk0"),m(y,"href","#active"),m(y,"class",_=r("#active"===t.$hash&&"selected")+" svelte-189opk0"),m(x,"class","svelte-189opk0"),m(A,"href","#completed"),m(A,"class",N=r("#completed"===t.$hash&&"selected")+" svelte-189opk0"),m(E,"class","svelte-189opk0"),m(h,"class","filters svelte-189opk0"),m(e,"class","footer svelte-189opk0")},m(t,r){a(t,e,r),i(e,n),i(n,o),i(o,c),i(n,s),i(e,l),i(e,h),i(h,g),i(g,v),i(v,b),i(h,w),i(h,x),i(x,y),i(y,T),i(h,C),i(h,E),i(E,A),i(A,S),i(e,O),D&&D.m(e,null)},p(t,n){t.$activeTodos&&j!==(j=n.$activeTodos.length+"")&&$(c,j),t.$hash&&k!==(k=r((""===n.$hash||"#all"===n.$hash)&&"selected")+" svelte-189opk0")&&m(v,"class",k),t.$hash&&_!==(_=r("#active"===n.$hash&&"selected")+" svelte-189opk0")&&m(y,"class",_),t.$hash&&N!==(N=r("#completed"===n.$hash&&"selected")+" svelte-189opk0")&&m(A,"class",N),n.$completedTodos.length?D||((D=at(n)).c(),D.m(e,null)):D&&(D.d(1),D=null)},d(t){t&&u(e),D&&D.d()}}}function at(t){var e,n;return{c(){(e=d("button")).textContent="Clear completed",m(e,"class","clear-completed svelte-189opk0"),n=h(e,"click",t.clearCompleted)},m(t,n){a(t,e,n)},d(t){t&&u(e),n()}}}function ut(e){var n,o=e.$todos.length&&it(e);return{c(){o&&o.c(),n=f("")},m(t,e){o&&o.m(t,e),a(t,n,e)},p(t,e){e.$todos.length?o?o.p(t,e):((o=it(e)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&u(n)}}}function dt(t,e,n){let o,c,s,r;l(t,W,t=>{n("$todos",o=t)}),l(t,z,t=>{n("$activeTodos",c=t)}),l(t,G,t=>{n("$hash",s=t)}),l(t,F,t=>{n("$completedTodos",r=t)});return{clearCompleted:()=>{W.update(t=>t.filter(t=>!t.done))},$todos:o,$activeTodos:c,$hash:s,$completedTodos:r}}class ft extends B{constructor(t){super(),q(this,t,dt,ut,s,[])}}function pt(e){var n,o,c,s=new R({}),l=new rt({}),r=new ft({});return{c(){s.$$.fragment.c(),n=p(),l.$$.fragment.c(),o=p(),r.$$.fragment.c()},m(t,e){D(s,t,e),a(t,n,e),D(l,t,e),a(t,o,e),D(r,t,e),c=!0},p:t,i(t){c||(O(s.$$.fragment,t),O(l.$$.fragment,t),O(r.$$.fragment,t),c=!0)},o(t){j(s.$$.fragment,t),j(l.$$.fragment,t),j(r.$$.fragment,t),c=!1},d(t){L(s,t),t&&u(n),L(l,t),t&&u(o),L(r,t)}}}return new class extends B{constructor(t){super(),q(this,t,null,pt,s,[])}}({target:document.querySelector(".todoapp")})}();
//# sourceMappingURL=bundle.js.map
